---
import type { GiaiPhapMaiProps } from './types';

interface Props extends GiaiPhapMaiProps {}
const { pageContent, components, steps, advantages, sampleImages, systemName, mainImage, headerImage } = Astro.props;
---

    <header class="header-section">
        <div class="relative isolate overflow-hidden pt-14">
            <img 
              src={headerImage.src}
              alt={headerImage.alt}
              width={headerImage.width}
              height={headerImage.height}
              class="absolute inset-0 -z-10 size-full object-cover"
            />
            <div class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden  sm:-top-80" aria-hidden="true">
              <div class="relative left-[calc(50%-11rem)] aspect-1155/678 w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-linear-to-tr from-[#ff80b5] to-[#9089fc] opacity-20 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]" style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
            </div>
            <div class="mx-auto container px-6 lg:px-8">
              <div class="mx-auto py-16 sm:py-48 lg:py-32">
                <div class="sm:mb-8 flex sm:justify-start">
                  <div class="absolute inset-0 bg-black/40 flex items-center justify-start">
                    <div class="text-white text-left container mx-auto w-full px-4">
                      <span class="text-xl mx-auto font-semibold tracking-tight text-balance text-white sm:text-4xl">Giải pháp thi công Solarmax</span>
                      <div class="mt-8">
                        <a href="https://zalo.me/0964920242" target="_blank" class="rounded-md bg-red-600 px-6 py-3 text-lg font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600">
                          Liên hệ tư vấn
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            </div>
            <div class="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]" aria-hidden="true">
              <div class="relative left-[calc(50%+3rem)] aspect-1155/678 w-[36.125rem] -translate-x-1/2 bg-linear-to-tr from-[#ff80b5] to-[#9089fc] opacity-20 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]" style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
            </div>
      </header>
    <div class="overflow-hidden bg-white py-8 sm:py-16">
        <div class="mx-auto container px-4 md:px-6 lg:px-8">
            <div class="flex relative flex-col lg:h-[600px]  lg:flex-row gap-x-8 gap-y-8 sm:gap-y-20 lg:items-start">
                <div class="px-0 lg:px-0 lg:pt-2 lg:pr-4 w-full lg:w-1/2 z-10">
                    <div class="mx-auto max-w-2xl lg:mx-0 lg:max-w-lg">
                        <p class="text-base/7 font-semibold text-green-600">{pageContent.subtitle}</p>
                        <h1 class="mt-2 text-4xl font-semibold tracking-tight text-gray-900 sm:text-3xl">{pageContent.heading}</h1>
                        <p class="mt-2 text-base/7 text-gray-600">{pageContent.description}</p>
                        
                        <div class="mt-6">
                            <h2 class="text-xl font-semibold text-gray-900">Hệ thống SolarMax – {systemName} bao gồm:</h2>
                            <ul class="mt-4 space-y-4">
                                {components.map((component: { title: string; description: string }, index: number) => (
                                    <li class="flex gap-x-3">
                                        <span class="flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-600 text-white text-sm font-medium">{index + 1}</span>
                                        <div>
                                            <strong class="font-semibold text-gray-900">{component.title}:</strong> 
                                            <span class="text-gray-600">{component.description}</span>
                                        </div>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="relative lg:absolute lg:top-0 lg:right-0 sm:px-6 lg:px-0 my-auto w-full lg:w-1/2">
                    <div class="mx-auto max-w-2xl sm:mx-0 sm:max-w-none">
                        <img 
                            src={mainImage.src}
                            alt={mainImage.alt}
                            width="600"
                            height="600"
                            class="w-full h-full object-contain z-50"
                        />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-white">
        <div class="mx-auto container px-4 lg:px-8">
            <div class="mx-auto mt-8 sm:mt-16 grid max-w-2xl grid-cols-1 gap-8 lg:mx-0 lg:max-w-none lg:grid-cols-4">
                {advantages.map((advantage: { title: string; description: string; icon: string }) => (
                    <div class="relative flex flex-col gap-0 backdrop-blur-sm bg-gray-900/30 border border-white/20 shadow-lg rounded-lg p-6">
                        <dt class="font-bold text-white">
                            <div class="flex items-center gap-2">
                                {advantage.icon === "clock" && (
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                                  </svg>
                                )}
                                {advantage.icon === "adjustments" && (
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z" />
                                  </svg>
                                )}
                                {advantage.icon === "shield" && (
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                  </svg>
                                )}
                                {advantage.icon === "chart" && (
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                                  </svg>
                                )}
                                {advantage.title}
                            </div>
                        </dt>
                        <dd class="mt-4 text-base text-white">{advantage.description}</dd>
                    </div>
                ))}
            </div>
        </div>
    </div>

    <div class="bg-white py-8 sm:py-16">
        <div class="mx-auto container px-4 lg:px-8">
            <div class="mx-auto max-w-2xl text-center">
                <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Quy trình thi công</h2>
                <p class="mt-2 text-lg leading-8 text-gray-600">Các bước thi công hệ thống điện mặt trời mái {systemName.toLowerCase()}</p>
            </div>
            <div class="mx-auto mt-8 sm:mt-16 grid max-w-2xl grid-cols-1 gap-8 lg:mx-0 lg:max-w-none lg:grid-cols-3">
                {steps.map((step: { title: string; description: string; img: string }, index: number) => (
                    <div class="flex flex-col overflow-hidden  rounded-lg shadow-lg">
                        <div class="flex-shrink-0">
                            <img 
                                src={step.img} 
                                alt={step.title}
                                width="400"
                                height="400" 
                                class="w-full h-full object-cover"
                            />
                        </div>
                        <div class="flex flex-1 flex-col justify-between bg-white p-6">
                            <div class="flex-1">
                                <div class="flex items-center gap-x-2">
                                    <span class="inline-flex items-center justify-center rounded-full bg-green-100 px-3 py-0.5 text-sm font-medium text-green-800">
                                        Bước {index + 1}
                                    </span>
                                </div>
                                <div class="mt-2">
                                    <h3 class="text-xl font-semibold text-gray-900">{step.title}</h3>
                                    <p class="mt-3 text-base text-gray-600">{step.description}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    </div>

    <div class="bg-white py-8 sm:py-16">
        <div class="mx-auto container px-4 lg:px-8">
            <div class="mx-auto max-w-2xl text-center">
                <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Hình ảnh thực tế</h2>
                <p class="mt-2 text-lg leading-8 text-gray-600">Một số hình ảnh thực tế về lắp đặt điện mặt trời mái {systemName.toLowerCase()}</p>
            </div>
            <div class="mx-auto mt-8 sm:mt-16 grid max-w-2xl grid-cols-1 gap-4 sm:gap-8 lg:mx-0 lg:max-w-none lg:grid-cols-3">
                {sampleImages.map((image: { src: string; alt: string }) => (
                    <div class="group relative isolate flex flex-col justify-end overflow-hidden rounded-2xl bg-gray-900 border-2 border-gray-200 hover:border-green-500 transition-all duration-300">
                        <div class="aspect-[3/2] w-full">
                            <img 
                                src={image.src} 
                                alt={image.alt}
                                width="900"
                                height="600"
                                class="absolute inset-0 -z-10 h-full w-full object-cover transition duration-300 group-hover:scale-105"
                            />
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900/50 to-gray-900/0"></div>
                            <div class="absolute bottom-0 p-4 z-10">
                                <p class="text-sm text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300">{image.alt}</p>
                            </div>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    </div>

